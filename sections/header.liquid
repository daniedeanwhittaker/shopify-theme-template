<!-- Header -->
<header class="header-main">
  <div class="container">
    <nav class="d-flex justify-content-between col-12" role="navigation">
      <!-- logo -->
      <a href="{{ routes.root_url }}" class="logo" title="{{ shop.name }}">
        {% if shop.brand.logo %}
          <img src="{{ shop.brand.logo | img_url: '200x' }}" alt="{{ shop.name }}">
        {% else %}
          <span class="shop-name">{{ shop.name }}</span>
        {% endif %}
      </a>

      <!-- navigation -->
      <ul class="navigation-links">
        {% for link in linklists['main-menu'].links %}
          <li class="{% if link.links.size > 0 %}dropdown{% endif %}">
            <a href="{{ link.url }}" title="{{ link.title }}">{{ link.title }}</a>
            {% if link.links.size > 0 %}
              <ul class="dropdown-menu">
                {% for sublink in link.links %}
                  <li>
                    <a href="{{ sublink.url }}">{{ sublink.title }}</a>
                  </li>
                {% endfor %}
              </ul>
            {% endif %}
          </li>
        {% endfor %}
      </ul>

      <!-- Search form -->
      <form class="search-form" action="/search" method="GET">
        <label for="search-input" class="visually-hidden">Search</label>
        <input type="text" id="search-input" name="q" placeholder="Search..." required>
        <button type="submit">
          <i class="fa-solid fa-magnifying-glass"></i>
        </button>
      </form>

      <!-- Account Dropdown -->
      <div class="dropdown account-dropdown">
        <a href="#" class="account-icon" aria-label="Account">
          <i class="fa-solid fa-user"></i>
        </a>
        <ul class="dropdown-menu">
          {% if customer %}
            <li>
              <a href="/account" title="My Account">My Account</a>
            </li>
            <li>
              <a href="/account/orders" title="Orders">Orders</a>
            </li>
            <li>
              <a href="/account/logout" title="Logout">Logout</a>
            </li>
          {% else %}
            <li>
              <a href="/account/login" title="Login">Login</a>
            </li>
            <li>
              <a href="/account/register" title="Register">Register</a>
            </li>
          {% endif %}
        </ul>
      </div>

      <!-- Basket Dropdown -->
      <div class="basket-dropdown">
        <a href="/cart" title="Basket">
          <i class="fa-solid fa-cart-shopping"></i> <span>My Basket</span>
          <span class="cart-count">
            {%- if cart.item_count > 0 %}{{ cart.item_count }}{% endif -%}
          </span>
        </a>
      </div>

      <!-- Mobile menu icon -->
      <a href="#" class="mobile-menu-icon" aria-label="Toggle navigation">
        <span>&amp;</span>
      </a>
    </nav>
  </div>
</header>
